package school.attractor.payment_module.domain.order;import lombok.AllArgsConstructor;import lombok.Builder;import lombok.Data;import lombok.NoArgsConstructor;import school.attractor.payment_module.domain.transaction.Transaction;import school.attractor.payment_module.domain.transaction.TransactionStatus;import javax.persistence.*;import java.util.Date;import java.util.List;import java.util.stream.Collectors;@Entity@Data@AllArgsConstructor@NoArgsConstructor@Builder@Table(name = "orders")public class Order {    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Integer id;    @Column    private String shopName;    @Column    private String shopId;    @Column    private String userName;    @Column    private String email;    @Column    private Date date;    @Column(length = 50)    private String cardHolderName;    @Column(length = 30)    private String CARD;    @Column(length = 10)    private String EXP;    @Column(length = 10)    private String EXP_YEAR;    @Column(length = 10)    private String CVC2;    @Column    private int amount;    @Column    private int residual;    @Column    private TransactionStatus status;    @OneToMany( mappedBy = "order", cascade = CascadeType.ALL)    private List<Transaction> transactions;    public static Order from(OrderDTO orderDTO) {        return  Order.builder()                .shopName(orderDTO.getShopName())                .userName(orderDTO.getUserName())                .cardHolderName(orderDTO.getCardHolderName())                .CARD(orderDTO.getCARD())                .EXP(orderDTO.getEXP())                .EXP_YEAR(orderDTO.getEXP_YEAR())                .CVC2(orderDTO.getCVC2())                .residual(orderDTO.getResidual())                .amount(orderDTO.getAmount())                .email(orderDTO.getEmail())                .status(orderDTO.getStatus())                .date(orderDTO.getDate())                .transactions(orderDTO.getTransactions().stream().map(Transaction::from).collect(Collectors.toList()))                .build();    }}