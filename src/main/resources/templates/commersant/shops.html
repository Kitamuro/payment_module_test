<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:include="layout :: head"> </head>
<body>
<div th:insert="layout :: header"></div>
<div class="container flex-column">
    <div class="shop-button">
        <button type="submit" class="btn-shop create-btn">Создать магазин</button>
    </div>
    <div class="icon-wrap">
            <span class="basic-shop-title basic-shop-title-border">Интернет-магазины</span>
     </div>
    <tbody id="shops">
        <div  th:each="shop: ${shops}">
            <div class="shop-box">
            <div class="shop-margin font-weight-bold" th:text="${shop.siteName}"></div>
            <div class="shop-margin" th:text="#{${shop.activity}}"></div>
            <div class="shop-check-box"><i class="circle-status shop-checkbox-color"></i><span>Проверяем</span></div>
            </div>
        </div>
    </tbody>
</div>
</body>

<script>
    let shopButton = document.getElementsByClassName('shop-button')[0];
    shopButton.addEventListener("click", function(){
        let divElement = printInputForm();
        shopButton.after(divElement);
    });

    let shopBox = document.getElementsByClassName('shop-box')[0];

    shopBox.addEventListener("click", async function (e) {
        window.open(SHOP_URL);
    });

    function printInputForm() {
        const html = `
        <div class="shop justify-content-center">
            <form action="/shops" method="post" id="shop-form">
            <div class="inner-form">
            <div class="basic-shop">
            <div class="advance-shop">
            <div class="column">
            <div class="advance-input">
            <input id="shop" type="text" name="activity" placeholder="Вид деятельности"/>
            </div>
            <div class="advance-input">
            <input class="extra-input" name="siteName" type="text" placeholder="Сайт"/>
            </div>
            <div class="advance-input">
            <input type="text" name="account" placeholder="Счет для выплат"/>
            </div>
            <div class="advance-input">
            <input type="email" name="registerEmail" placeholder="Электронная почта для реестров"/>
            </div>
            <h4 class="shop-margin">Адрес</h4>
            <div class="advance-input">
            <input type="text" name="index" placeholder="Индекс"/>
            </div>
            <div class="advance-input">
            <input type="text" name="region" placeholder="Регион,район"/>
            </div>
            <div class="advance-input">
            <input type="text" name="locality" placeholder="Населенный пункт"/>
            </div>
            <div class="advance-input">
            <input type="text" name="street" placeholder="Улица"/>
            </div>
            <div class="flex-row justify-content-between">
            <div class="address">
            <input type="text" name="house" placeholder="Дом, строение"/>
            </div>
            <div class="address">
            <input type="text" name="building" placeholder="Корпус"/>
            </div>
            <div class="address">
            <input type="text" name="office" placeholder="Офис"/>
            </div>
            </div>
            <h4 class="shop-margin">Обратная связь с покупателями</h4>
        <p class="shop-margin">Покупатели увидят эти контакты на платежной форме</p>
        <div class="advance-input">
            <input type="tel" name="phoneForCustomer" placeholder="Телефон"/>
            </div>
            <div class="advance-input">
            <input type="email" name="emailForCustomer" placeholder="Электронная почта"/>
            </div>
            <h4 class="shop-margin">Контактное лицо</h4>
        <div class="advance-input">
            <input type="text" name="contactName" placeholder="Фамилия, Имя, Отчество"/>
            </div>
            <div class="advance-input">
            <input type="tel" name="contactPhone" placeholder="Телефон"/>
            </div>
            <div class="advance-input">
            <input type="email" name="contactEmail" placeholder="Электронная почта"/>
            </div>
            <div class="flex-row justify-content-around shop-margin">
            <div class="advance-input">
               <button type="submit" class="btn-shop create-btn">Сохранить</button>
            </div>
            <div class="advance-input">
                 <button type="reset" class="btn-delete btn" id="delete">Отменить</button>
            </div>
            </div>
            </div>
            </div>
            </form>
            </div>

            </div>`.trim();
        const div = document.createElement('div');
        div.innerHTML = html;
        return div;
    }
</script>
</html>
